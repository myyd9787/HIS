<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>现场挂号</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../lib/layui/css/layui.css"  media="all">
	<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>

<fieldset class="layui-elem-field layui-field-title" style="margin: 20px;">
	<legend>现场挂号</legend>
</fieldset>
<form class="layui-form" action="../../CollectorServlet?method=regist" method="post">
	<div class="layui-form-item">
		<div class="layui-input-block">
			<button class="layui-btn" lay-submit="" lay-filter="demo1">立即挂号</button>
			<button type="reset" class="layui-btn layui-btn-danger">清空</button>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">病历号</label>
		<div class="layui-input-inline">
			<input type="text" name="CaseNumber" lay-verify="CaseNumber" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">姓名</label>
		<div class="layui-input-inline">
			<input type="text" name="RealName" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">性别</label>
			<div class="layui-input-inline">
				<select name="gender">
					<option value="0">男</option>
					<option value="1">女</option>
				</select>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">身份证号</label>
		<div class="layui-input-inline">
			<input type="text" name="IDnumber" lay-verify="IDnumber" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">出生日期</label>
			<div class="layui-input-inline">
				<input type="text" name="BirthDate" id="date" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">年龄</label>
			<div class="layui-input-inline">
				<input type="text" name="Age" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
			</div>
			<div class="layui-input-inline">
				<select name="AgeType">
					<option>岁</option>
					<option>月</option>
					<option>日</option>
				</select>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">家庭住址</label>
		<div class="layui-input-inline">
			<input type="text" name="HomeAddress" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">午别</label>
			<div class="layui-input-inline">
				<select name="None">
					<option value="上午">上午</option>
					<option value="下午">下午</option>
				</select>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">看诊日期</label>
			<div class="layui-input-inline">
				<input type="text" name="VisitDate" id="date1" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">结算类型</label>
			<div class="layui-input-inline">
				<select name="SettleID">
					<option value="1">市医保</option>
					<option value="0">省医保</option>
				</select>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">挂号科室</label>
			<div class="layui-input-inline">
				<select name="DeptID">
					<option value="1">1</option>
					<option value="2">2</option>
				</select>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">挂号级别</label>
			<div class="layui-input-inline">
				<select name="RegistLeID">
					<option value="301">301</option>
					<option value="9">9</option>
					<option value="10">10</option>
				</select>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">看诊医生</label>
			<div class="layui-input-inline">
				<select name="UserID">
					<option value="1">华佗</option>
					<option value="2">扁鹊</option>
				</select>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">病历本</label>
			<div class="layui-input-inline">
				<select name="IsBook">
					<option value="1">是</option>
					<option value="0">否</option>
				</select>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">看诊状态</label>
			<div class="layui-input-inline">
				<select name="VisitState">
					<option value="0">已挂号</option>
					<option value="1">医生接诊</option>
					<option value="2">看诊结束</option>
					<option value="3">已退号</option>
				</select>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">挂号时间</label>
			<div class="layui-input-inline">
				<input type="text" name="RegistTime" id="date2" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
			</div>
		</div>
		<label class="layui-form-label">挂号员id</label>
		<div class="layui-input-inline">
			<input type="text" name="RegisterID" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
	</div>
</form>
<script src="../../lib/layui/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use(['form', 'layedit', 'laydate'], function(){
        var form = layui.form
            ,layer = layui.layer
            ,layedit = layui.layedit
            ,laydate = layui.laydate;

        //日期
        laydate.render({
            elem: '#date'
        });
        laydate.render({
            elem: '#date1'
        });
        laydate.render({
            elem: '#date2'
        });
        //自定义验证规则
        form.verify({
            CaseNumber: function(value){
                if(value.length < 6){
                    return '病历号至少得6个字符啊';
                }
            },
            IDnumber: function(value){
                if(value.length !=18){
                    return '身份证号要18个字符啊';
                }
            }
            ,content: function(value){
                layedit.sync(editIndex);
            }
        });
        //监听提交
        form.on('submit(demo1)', function(data){
            layer.alert(JSON.stringify(data.field), {
                title: '最终的提交信息'
            })
            return true;
        });
    });
</script>

</body>
</html>