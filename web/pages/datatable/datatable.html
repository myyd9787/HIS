<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>layui</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../../lib/layui/css/layui.css"  media="all">
  <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
<div style="padding: 5px; border: 1px solid lightgray;">
  <div class="layui-row layui-col-space5">
    <div class="layui-col-md5">
      <div class="layui-card">
        <div class="layui-card-header">列表<a style="float:right" class="layui-btn" id="btn-refresh"><i class="layui-icon">&#xe9aa;</i></a></div>
        <div class="layui-card-body">
        	<div class="demoTable">
			  搜索标题：
			  <div class="layui-inline">
			    <input class="layui-input" name="category" id="demoReload" autocomplete="off">
			  </div>
			  <button class="layui-btn" style="float: right;" data-type="reload">搜索</button>
			</div>
        	<table class="layui-hide" id="test" lay-filter="testReload"></table>
        </div>
      </div>
    </div>
    <div class="layui-col-md7">
      <div class="layui-card">
        <div class="layui-card-header">详细</div>
        <div class="layui-card-body">
          结合 layui 的栅格系统<br>
          轻松实现响应式布局
        </div>
      </div>
    </div>    
  </div>
</div> 

<script src="../../lib/layui/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
layui.use('table', function(){
  var table = layui.table
     ,$ = layui.jquery;
  
  var tableIns =table.render({
		elem: '#test',
		cellMinWidth: 80,
		skin: 'line',
		cols: [[
			{field: 'id',title: 'ID',hide:true}
			,{field: 'title',title: '标题'}
			,{field: 'date',title: '发布时间'}
			,{field: 'category',title: '分类',hide:true}
			,{field: 'sort',title: '排序'}
			]],
		url: 'data_table.json',
		id: 'testReload',
		event: true
	});
  
  $('.demoTable .layui-btn').on('click', function(){
  	var categoryval=$('#demoReload').val();
  	table.reload('testReload', {
  		where: {
            category: categoryval
       }
    });
   });
   // 刷新
    $('#btn-refresh').on('click', function () {
        tableIns.reload();
    });
  //监听行单击事件（单击事件为：rowDouble）
  table.on('row(testReload)', function(obj){
    var data = obj.data;
    
    layer.alert(JSON.stringify(data), {
      title: '当前行数据：'
    });
    
    //标注选中样式
    obj.tr.addClass('layui-table-click').siblings().removeClass('layui-table-click');
  	
  });
});
</script>
</body>
</html>